"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[996],{420(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"rest-api","title":"REST API","description":"GaussFlow includes a zero-dependency HTTP REST API server, enabling any language (Python, Go, Ruby, etc.) to use GaussFlow over HTTP.","source":"@site/docs/rest-api.md","sourceDirName":".","slug":"/rest-api","permalink":"/onegenui-deep-agents/docs/rest-api","draft":false,"unlisted":false,"editUrl":"https://github.com/giulio-leone/onegenui-deep-agents/tree/main/docs/docs/rest-api.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Resilience Patterns","permalink":"/onegenui-deep-agents/docs/resilience"},"next":{"title":"Error Handling","permalink":"/onegenui-deep-agents/docs/error-handling"}}');var s=t(4848),r=t(8453);const a={sidebar_position:8},o="REST API",l={},c=[{value:"Quick Start",id:"quick-start",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"<code>GET /api/health</code>",id:"get-apihealth",level:3},{value:"<code>GET /api/info</code>",id:"get-apiinfo",level:3},{value:"<code>POST /api/run</code>",id:"post-apirun",level:3},{value:"<code>POST /api/stream</code>",id:"post-apistream",level:3},{value:"<code>POST /api/graph/run</code>",id:"post-apigraphrun",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Client Examples",id:"client-examples",level:2},{value:"Python",id:"python",level:3},{value:"Go",id:"go",level:3},{value:"cURL",id:"curl",level:3},{value:"Server Options",id:"server-options",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"rest-api",children:"REST API"})}),"\n",(0,s.jsx)(n.p,{children:"GaussFlow includes a zero-dependency HTTP REST API server, enabling any language (Python, Go, Ruby, etc.) to use GaussFlow over HTTP."}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { GaussFlowServer } from "@giulio-leone/gaussflow-agent";\n\nconst server = new GaussFlowServer({\n  port: 3456,\n  apiKey: "my-secret-token", // Optional Bearer auth\n  cors: true,\n});\n\nawait server.listen();\n'})}),"\n",(0,s.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,s.jsx)(n.h3,{id:"get-apihealth",children:(0,s.jsx)(n.code,{children:"GET /api/health"})}),"\n",(0,s.jsx)(n.p,{children:"Health check (always public, no auth required)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:3456/api/health\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{ "status": "ok", "version": "0.1.0" }\n'})}),"\n",(0,s.jsx)(n.h3,{id:"get-apiinfo",children:(0,s.jsx)(n.code,{children:"GET /api/info"})}),"\n",(0,s.jsx)(n.p,{children:"Server info including capabilities."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer my-secret-token" http://localhost:3456/api/info\n'})}),"\n",(0,s.jsx)(n.h3,{id:"post-apirun",children:(0,s.jsx)(n.code,{children:"POST /api/run"})}),"\n",(0,s.jsx)(n.p,{children:"Run an agent with a prompt. Returns the complete response."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3456/api/run \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer my-secret-token" \\\n  -d \'{\n    "prompt": "What is AI?",\n    "provider": "openai",\n    "apiKey": "sk-...",\n    "model": "gpt-4o",\n    "instructions": "Be concise"\n  }\'\n'})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "text": "AI is...",\n  "sessionId": "abc-123",\n  "steps": 3,\n  "duration": 1234\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"post-apistream",children:(0,s.jsx)(n.code,{children:"POST /api/stream"})}),"\n",(0,s.jsx)(n.p,{children:"Run an agent with Server-Sent Events (SSE) streaming."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3456/api/stream \\\n  -H "Content-Type: application/json" \\\n  -d \'{ "prompt": "Tell me a story", "provider": "openai", "apiKey": "sk-..." }\'\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'data: {"type":"token","content":"Once"}\ndata: {"type":"token","content":" upon"}\ndata: {"type":"done","text":"Once upon...","sessionId":"abc-123"}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"post-apigraphrun",children:(0,s.jsx)(n.code,{children:"POST /api/graph/run"})}),"\n",(0,s.jsx)(n.p,{children:"Run an AgentGraph with multiple nodes."}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"apiKey"})," is set in ",(0,s.jsx)(n.code,{children:"ServerOptions"}),", all requests (except ",(0,s.jsx)(n.code,{children:"/api/health"}),") must include:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Authorization: Bearer <token>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"client-examples",children:"Client Examples"}),"\n",(0,s.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\n\nresp = requests.post("http://localhost:3456/api/run", json={\n    "prompt": "What is AI?",\n    "provider": "openai",\n    "apiKey": "sk-..."\n})\nprint(resp.json()["text"])\n'})}),"\n",(0,s.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'body := `{"prompt":"What is AI?","provider":"openai","apiKey":"sk-..."}`\nresp, _ := http.Post("http://localhost:3456/api/run", "application/json", strings.NewReader(body))\n'})}),"\n",(0,s.jsx)(n.h3,{id:"curl",children:"cURL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3456/api/run \\\n  -H "Content-Type: application/json" \\\n  -d \'{"prompt":"What is AI?","provider":"openai","apiKey":"sk-..."}\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"server-options",children:"Server Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'interface ServerOptions {\n  port?: number;           // default: 3456\n  apiKey?: string;         // Bearer token for auth\n  defaultProvider?: string; // default: "openai"\n  defaultModel?: string;   // default: "gpt-4o"\n  cors?: boolean;          // default: true\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);