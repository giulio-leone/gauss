"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[964],{9614(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"runtime/index","title":"Multi-Runtime Support","description":"Run GaussFlow on Node.js, Deno, Bun, Edge, and Browser","source":"@site/docs/runtime/index.md","sourceDirName":"runtime","slug":"/runtime/","permalink":"/onegenui-deep-agents/docs/runtime/","draft":false,"unlisted":false,"editUrl":"https://github.com/giulio-leone/onegenui-deep-agents/tree/main/docs/docs/runtime/index.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Multi-Runtime Support","description":"Run GaussFlow on Node.js, Deno, Bun, Edge, and Browser"},"sidebar":"tutorialSidebar","previous":{"title":"EvalsPlugin","permalink":"/onegenui-deep-agents/docs/plugins/evals"},"next":{"title":"AgentGraph","permalink":"/onegenui-deep-agents/docs/graph/"}}');var s=t(4848),i=t(8453);const o={sidebar_position:4,title:"Multi-Runtime Support",description:"Run GaussFlow on Node.js, Deno, Bun, Edge, and Browser"},d="Multi-Runtime Support",l={},a=[{value:"RuntimePort",id:"runtimeport",level:2},{value:"Auto-Detection",id:"auto-detection",level:2},{value:"Runtime Adapters",id:"runtime-adapters",level:2},{value:"Sub-Path Exports",id:"sub-path-exports",level:2},{value:"Universal Mode",id:"universal-mode",level:2},{value:"MCP Server Mode",id:"mcp-server-mode",level:2},{value:"Real-Time Event Streaming",id:"real-time-event-streaming",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"multi-runtime-support",children:"Multi-Runtime Support"})}),"\n",(0,s.jsxs)(n.p,{children:["GaussFlow runs on ",(0,s.jsx)(n.strong,{children:"Node.js"}),", ",(0,s.jsx)(n.strong,{children:"Deno"}),", ",(0,s.jsx)(n.strong,{children:"Bun"}),", ",(0,s.jsx)(n.strong,{children:"Edge"})," (Cloudflare Workers, Vercel Edge), and ",(0,s.jsx)(n.strong,{children:"Browser"}),". The core API is runtime-agnostic; platform-specific adapters live in dedicated sub-path exports."]}),"\n",(0,s.jsx)(n.h2,{id:"runtimeport",children:"RuntimePort"}),"\n",(0,s.jsxs)(n.p,{children:["Platform-specific APIs are abstracted behind the ",(0,s.jsx)(n.code,{children:"RuntimePort"})," interface:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface RuntimePort {\n  randomUUID(): string;\n  fetch(input: string | URL | Request, init?: RequestInit): Promise<Response>;\n  getEnv(key: string): string | undefined;\n  setTimeout(callback: () => void, ms: number): { clear(): void };\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"auto-detection",children:"Auto-Detection"}),"\n",(0,s.jsx)(n.p,{children:"The framework auto-detects your runtime and selects the appropriate adapter:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DeepAgent } from "@giulio-leone/gaussflow-agent";\n\n// Auto-detect runtime\nconst agent = DeepAgent.create({ model, instructions: "..." }).build();\n'})}),"\n",(0,s.jsx)(n.p,{children:"Or specify explicitly:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DenoRuntimeAdapter } from "@giulio-leone/gaussflow-agent";\n\nconst agent = DeepAgent.create({ model, instructions: "..." })\n  .withRuntime(new DenoRuntimeAdapter())\n  .build();\n'})}),"\n",(0,s.jsx)(n.h2,{id:"runtime-adapters",children:"Runtime Adapters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Adapter"}),(0,s.jsx)(n.th,{children:"Runtime"}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.code,{children:"getEnv()"})}),(0,s.jsx)(n.th,{children:"UUID"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"NodeRuntimeAdapter"})}),(0,s.jsx)(n.td,{children:"Node.js"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"process.env"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"crypto.randomUUID()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DenoRuntimeAdapter"})}),(0,s.jsx)(n.td,{children:"Deno"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Deno.env.get()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"crypto.randomUUID()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BunRuntimeAdapter"})}),(0,s.jsx)(n.td,{children:"Bun"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"process.env"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"crypto.randomUUID()"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"EdgeRuntimeAdapter"})}),(0,s.jsx)(n.td,{children:"Edge/CF Workers"}),(0,s.jsxs)(n.td,{children:["Returns ",(0,s.jsx)(n.code,{children:"undefined"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"crypto.randomUUID()"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"sub-path-exports",children:"Sub-Path Exports"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Node.js / Bun \u2014 core + Node-specific adapters\nimport { DeepAgent } from "@giulio-leone/gaussflow-agent";\nimport { LocalFilesystem, TiktokenTokenCounter } from "@giulio-leone/gaussflow-agent/node";\n\n// Deno \u2014 Deno-specific adapters\nimport { DenoFilesystem, DenoKvMemoryAdapter } from "@giulio-leone/gaussflow-agent/deno";\n\n// Edge / Cloudflare Workers\nimport { OpfsFilesystem, IndexedDbMemoryAdapter } from "@giulio-leone/gaussflow-agent/edge";\n\n// Browser\nimport { OpfsFilesystem, IndexedDbMemoryAdapter } from "@giulio-leone/gaussflow-agent/browser";\n'})}),"\n",(0,s.jsx)(n.h2,{id:"universal-mode",children:"Universal Mode"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"DeepAgent.auto()"})," creates an agent using universal adapters that work in ",(0,s.jsx)(n.strong,{children:"any"})," runtime:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DeepAgent } from "@giulio-leone/gaussflow-agent";\nimport { openai } from "@ai-sdk/openai";\n\nconst agent = DeepAgent.auto({\n  model: openai("gpt-4o"),\n  instructions: "You are a helpful assistant.",\n});\n\n// Uses VirtualFilesystem, InMemoryAdapter, ApproximateTokenCounter\nconst result = await agent.run("Hello");\n'})}),"\n",(0,s.jsx)(n.h2,{id:"mcp-server-mode",children:"MCP Server Mode"}),"\n",(0,s.jsx)(n.p,{children:"Expose agent tools as an MCP-compatible HTTP server:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DeepAgent } from "@giulio-leone/gaussflow-agent";\nimport { McpServer, createStreamableHttpHandler } from "@giulio-leone/gaussflow-agent/server";\n\nconst agent = DeepAgent.minimal({\n  model: openai("gpt-4o"),\n  instructions: "You are a coding assistant.",\n});\n\nconst server = new McpServer({\n  name: "my-agent",\n  version: "1.0.0",\n  tools: agent.tools,\n});\n\nconst handler = createStreamableHttpHandler({ server });\nBun.serve({ port: 3000, fetch: handler });\n'})}),"\n",(0,s.jsx)(n.h2,{id:"real-time-event-streaming",children:"Real-Time Event Streaming"}),"\n",(0,s.jsx)(n.p,{children:"Stream agent events via SSE:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DeepAgent, createSseHandler } from "@giulio-leone/gaussflow-agent";\n\nconst agent = DeepAgent.minimal({ model, instructions: "..." });\nconst handler = createSseHandler({ eventBus: agent.eventBus });\n\nBun.serve({ port: 3001, fetch: handler });\n'})}),"\n",(0,s.jsx)(n.p,{children:"Client-side:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const source = new EventSource("http://localhost:3001?filter=tool:call,step:end");\nsource.addEventListener("tool:call", (e) => console.log(JSON.parse(e.data)));\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>d});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);