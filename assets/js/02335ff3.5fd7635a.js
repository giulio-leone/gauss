"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[215],{8499(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"plugins/index","title":"Plugins","description":"Overview of the GaussFlow plugin system","source":"@site/docs/plugins/index.md","sourceDirName":"plugins","slug":"/plugins/","permalink":"/onegenui-deep-agents/docs/plugins/","draft":false,"unlisted":false,"editUrl":"https://github.com/giulio-leone/onegenui-deep-agents/tree/main/docs/docs/plugins/index.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Plugins","description":"Overview of the GaussFlow plugin system"},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/onegenui-deep-agents/docs/architecture"},"next":{"title":"GuardrailsPlugin","permalink":"/onegenui-deep-agents/docs/plugins/guardrails"}}');var t=i(4848),r=i(8453);const l={sidebar_position:3,title:"Plugins",description:"Overview of the GaussFlow plugin system"},d="Plugins",c={},o=[{value:"Plugin Interface",id:"plugin-interface",level:2},{value:"Lifecycle Hooks",id:"lifecycle-hooks",level:2},{value:"Using Plugins",id:"using-plugins",level:2},{value:"Writing Custom Plugins",id:"writing-custom-plugins",level:2},{value:"Built-in Plugins",id:"built-in-plugins",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"plugins",children:"Plugins"})}),"\n",(0,t.jsxs)(n.p,{children:["Plugins extend GaussFlow behavior through ",(0,t.jsx)(n.strong,{children:"lifecycle hooks"})," and ",(0,t.jsx)(n.strong,{children:"tool injection"}),". They are executed in registration order with deterministic hook execution."]}),"\n",(0,t.jsx)(n.h2,{id:"plugin-interface",children:"Plugin Interface"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface DeepAgentPlugin {\n  readonly name: string;\n  readonly version?: string;\n  readonly hooks?: PluginHooks;\n  readonly tools?: Record<string, Tool>;\n  setup?(ctx: PluginSetupContext): Promise<void> | void;\n  dispose?(): Promise<void> | void;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"lifecycle-hooks",children:"Lifecycle Hooks"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Hook"}),(0,t.jsx)(n.th,{children:"Signature"}),(0,t.jsx)(n.th,{children:"Can Modify"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"beforeRun"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { prompt }) \u2192 { prompt? }"})}),(0,t.jsx)(n.td,{children:"Prompt text"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"afterRun"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { result }) \u2192 void"})}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"beforeTool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { toolName, args }) \u2192 { args?, skip?, result? }"})}),(0,t.jsx)(n.td,{children:"Tool args, skip execution"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"afterTool"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { toolName, args, result }) \u2192 void"})}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"beforeStep"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { stepIndex, step }) \u2192 { step?, skip? }"})}),(0,t.jsx)(n.td,{children:"Step data, skip step"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"afterStep"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { stepIndex, step }) \u2192 void"})}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"onError"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"(ctx, { error, phase }) \u2192 { suppress? }"})}),(0,t.jsx)(n.td,{children:"Suppress error"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"using-plugins",children:"Using Plugins"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { DeepAgent, createGuardrailsPlugin, createEvalsPlugin } from "@giulio-leone/gaussflow-agent";\n\nconst agent = DeepAgent.create({\n  model: openai("gpt-4o"),\n  instructions: "You are a helpful assistant.",\n})\n  .use(createGuardrailsPlugin({ onFailure: "throw" }))\n  .use(createEvalsPlugin())\n  .build();\n'})}),"\n",(0,t.jsx)(n.h2,{id:"writing-custom-plugins",children:"Writing Custom Plugins"}),"\n",(0,t.jsxs)(n.p,{children:["Extend ",(0,t.jsx)(n.code,{children:"BasePlugin"})," for the simplest approach:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { BasePlugin } from "@giulio-leone/gaussflow-agent";\nimport type { PluginHooks, PluginContext, AfterRunParams } from "@giulio-leone/gaussflow-agent";\n\nclass AuditPlugin extends BasePlugin {\n  readonly name = "audit";\n\n  protected buildHooks(): PluginHooks {\n    return {\n      afterRun: async (ctx: PluginContext, params: AfterRunParams) => {\n        console.log(`[audit] Session ${ctx.sessionId} completed`);\n        console.log(`[audit] Output length: ${params.result.text.length}`);\n      },\n    };\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Or implement the interface directly for tools-only plugins:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { tool } from "ai";\nimport { z } from "zod";\nimport type { DeepAgentPlugin } from "@giulio-leone/gaussflow-agent";\n\nconst timePlugin: DeepAgentPlugin = {\n  name: "time",\n  tools: {\n    current_time: tool({\n      description: "Get the current date and time",\n      inputSchema: z.object({}),\n      execute: async () => new Date().toISOString(),\n    }),\n  },\n};\n'})}),"\n",(0,t.jsx)(n.h2,{id:"built-in-plugins",children:"Built-in Plugins"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Plugin"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Tools Injected"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./guardrails",children:"GuardrailsPlugin"})}),(0,t.jsx)(n.td,{children:"Input/output validation, content filtering, PII detection"}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./workflow",children:"WorkflowPlugin"})}),(0,t.jsx)(n.td,{children:"Multi-step workflow with retry, rollback, conditions"}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./observability",children:"ObservabilityPlugin"})}),(0,t.jsx)(n.td,{children:"Tracing, metrics, and structured logging"}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./oncrawl",children:"OneCrawlPlugin"})}),(0,t.jsx)(n.td,{children:"Web scraping and search"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"scrape"}),", ",(0,t.jsx)(n.code,{children:"search"}),", ",(0,t.jsx)(n.code,{children:"batch"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./vectorless",children:"VectorlessPlugin"})}),(0,t.jsx)(n.td,{children:"RAG/knowledge extraction"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"generate"}),", ",(0,t.jsx)(n.code,{children:"query"}),", ",(0,t.jsx)(n.code,{children:"search-entities"}),", ",(0,t.jsx)(n.code,{children:"list"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"./evals",children:"EvalsPlugin"})}),(0,t.jsx)(n.td,{children:"Evaluation metrics collection"}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AgentCardPlugin"})}),(0,t.jsx)(n.td,{children:"Agent card generation and serving"}),(0,t.jsx)(n.td,{children:"\u2014"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"A2APlugin"})}),(0,t.jsx)(n.td,{children:"Agent-to-Agent protocol (JSON-RPC)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"a2a:call"})})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>d});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);