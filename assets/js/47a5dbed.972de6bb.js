"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[87],{1558(r,e,n){n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"error-handling","title":"Error Handling","description":"Complete reference for GaussFlow\'s hierarchical error system","source":"@site/docs/error-handling.md","sourceDirName":".","slug":"/error-handling","permalink":"/onegenui-deep-agents/docs/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/giulio-leone/onegenui-deep-agents/tree/main/docs/docs/error-handling.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Error Handling","description":"Complete reference for GaussFlow\'s hierarchical error system"},"sidebar":"tutorialSidebar","previous":{"title":"REST API","permalink":"/onegenui-deep-agents/docs/rest-api"},"next":{"title":"Port Interfaces","permalink":"/onegenui-deep-agents/docs/api-reference/ports"}}');var t=n(4848),i=n(8453);const s={sidebar_position:9,title:"Error Handling",description:"Complete reference for GaussFlow's hierarchical error system"},a="Error Handling",l={},c=[{value:"Error Hierarchy",id:"error-hierarchy",level:2},{value:"Base Error Class",id:"base-error-class",level:3},{value:"Error Classes",id:"error-classes",level:3},{value:"Error Codes Reference",id:"error-codes-reference",level:3},{value:"Error Handling Patterns",id:"error-handling-patterns",level:2},{value:"Try-Catch with Type Guards",id:"try-catch-with-type-guards",level:3},{value:"Event-Based Error Handling",id:"event-based-error-handling",level:3},{value:"Async Error Handling with Event Listeners",id:"async-error-handling-with-event-listeners",level:3},{value:"Error Recovery Strategies",id:"error-recovery-strategies",level:2},{value:"Retry with Exponential Backoff",id:"retry-with-exponential-backoff",level:3},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"Circuit Breaker Integration",id:"circuit-breaker-integration",level:3},{value:"Plugin Error Handling",id:"plugin-error-handling",level:2},{value:"Error Aggregation and Reporting",id:"error-aggregation-and-reporting",level:2},{value:"Testing Error Scenarios",id:"testing-error-scenarios",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Error Handling Guidelines",id:"error-handling-guidelines",level:3},{value:"Error Recovery Strategies",id:"error-recovery-strategies-1",level:3},{value:"Production Monitoring",id:"production-monitoring",level:3}];function d(r){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,t.jsx)(e.p,{children:"GaussFlow provides a comprehensive, hierarchical error system with structured error classes, error codes, and event-based error handling. This allows for precise error identification, handling, and debugging."}),"\n",(0,t.jsx)(e.h2,{id:"error-hierarchy",children:"Error Hierarchy"}),"\n",(0,t.jsxs)(e.p,{children:["All GaussFlow errors extend the base ",(0,t.jsx)(e.code,{children:"GaussFlowError"})," class, which provides structured error information including error codes and root cause tracking."]}),"\n",(0,t.jsx)(e.h3,{id:"base-error-class",children:"Base Error Class"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { GaussFlowError } from "@giulio-leone/gaussflow-agent";\n\nclass GaussFlowError extends Error {\n  constructor(\n    message: string,\n    public readonly code: string,\n    public readonly cause?: unknown,\n  ) {\n    super(message);\n    this.name = "GaussFlowError";\n  }\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"All errors include:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"message"}),": Human-readable error description"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"code"}),": Machine-readable error identifier"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"cause"}),": Optional underlying error or cause"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"name"}),": Error class name for type checking"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"error-classes",children:"Error Classes"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import {\n  GaussFlowError,          // Base error class\n  ToolExecutionError,      // Tool execution failures\n  PluginError,            // Plugin lifecycle errors  \n  McpConnectionError,     // MCP server connection issues\n  RuntimeError,           // Runtime/platform errors\n  StreamingError,         // Streaming/SSE errors\n  ConfigurationError,     // Invalid configuration\n  CircuitBreakerError,    // Circuit breaker failures\n  RateLimiterError,       // Rate limiting errors\n} from "@giulio-leone/gaussflow-agent";\n'})}),"\n",(0,t.jsx)(e.h3,{id:"error-codes-reference",children:"Error Codes Reference"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Error Class"}),(0,t.jsx)(e.th,{children:"Code"}),(0,t.jsx)(e.th,{children:"Description"}),(0,t.jsx)(e.th,{children:"Common Causes"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"ToolExecutionError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"TOOL_EXECUTION_ERROR"})}),(0,t.jsx)(e.td,{children:"Tool failed to execute"}),(0,t.jsx)(e.td,{children:"Invalid parameters, external API failures, file system errors"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"PluginError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"PLUGIN_ERROR"})}),(0,t.jsx)(e.td,{children:"Plugin hook failure"}),(0,t.jsx)(e.td,{children:"Plugin initialization, hook execution errors"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"McpConnectionError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"MCP_CONNECTION_ERROR"})}),(0,t.jsx)(e.td,{children:"MCP server unreachable"}),(0,t.jsx)(e.td,{children:"Network issues, server down, authentication failures"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"RuntimeError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"RUNTIME_ERROR"})}),(0,t.jsx)(e.td,{children:"Platform/runtime issue"}),(0,t.jsx)(e.td,{children:"Environment-specific failures, missing dependencies"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"StreamingError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"STREAMING_ERROR"})}),(0,t.jsx)(e.td,{children:"SSE/streaming failure"}),(0,t.jsx)(e.td,{children:"Connection drops, malformed streams, client disconnection"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"ConfigurationError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"CONFIGURATION_ERROR"})}),(0,t.jsx)(e.td,{children:"Invalid config provided"}),(0,t.jsx)(e.td,{children:"Missing required fields, invalid types, conflicting options"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"CircuitBreakerError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"CIRCUIT_BREAKER_ERROR"})}),(0,t.jsx)(e.td,{children:"Circuit breaker is open"}),(0,t.jsx)(e.td,{children:"Service failures exceeded threshold"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"RateLimiterError"})}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"RATE_LIMITER_ERROR"})}),(0,t.jsx)(e.td,{children:"Rate limit exceeded"}),(0,t.jsx)(e.td,{children:"Too many requests, token bucket empty"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"error-handling-patterns",children:"Error Handling Patterns"}),"\n",(0,t.jsx)(e.h3,{id:"try-catch-with-type-guards",children:"Try-Catch with Type Guards"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { \n  DeepAgent, \n  ToolExecutionError, \n  McpConnectionError,\n  ConfigurationError \n} from "@giulio-leone/gaussflow-agent";\nimport { openai } from "@ai-sdk/openai";\n\nconst agent = DeepAgent.create({\n  model: openai("gpt-4o"),\n  instructions: "You are a helpful assistant.",\n});\n\ntry {\n  const result = await agent.run("Process this data");\n  console.log("Success:", result.text);\n} catch (error) {\n  if (error instanceof ToolExecutionError) {\n    console.error("Tool failed:", error.code, error.message);\n    console.error("Caused by:", error.cause);\n  } else if (error instanceof McpConnectionError) {\n    console.error("MCP connection failed:", error.message);\n  } else if (error instanceof ConfigurationError) {\n    console.error("Configuration error:", error.message);\n  } else if (error instanceof GaussFlowError) {\n    console.error("GaussFlow error:", error.code, error.message);\n  } else {\n    console.error("Unexpected error:", error);\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"event-based-error-handling",children:"Event-Based Error Handling"}),"\n",(0,t.jsx)(e.p,{children:"GaussFlow's event system provides centralized error handling:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { DeepAgent, GaussFlowError } from "@giulio-leone/gaussflow-agent";\n\nconst agent = DeepAgent.create({\n  model: openai("gpt-4o"),\n  instructions: "You are a resilient assistant.",\n})\n  .on("error", (event) => {\n    const error = event.data;\n    \n    console.error(`[${event.timestamp}] Error in ${event.source}:`, error);\n    \n    // Handle specific error types\n    if (error instanceof ToolExecutionError) {\n      handleToolError(error);\n    } else if (error instanceof McpConnectionError) {\n      handleMcpError(error);\n    }\n  })\n  .on("tool:error", (event) => {\n    console.error("Tool-specific error:", event.data.toolName, event.data.error);\n  })\n  .build();\n\nfunction handleToolError(error: ToolExecutionError) {\n  console.log("Attempting tool error recovery...");\n  // Implement retry logic, fallback tools, etc.\n}\n\nfunction handleMcpError(error: McpConnectionError) {\n  console.log("MCP connection lost, attempting reconnection...");\n  // Implement reconnection logic\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"async-error-handling-with-event-listeners",children:"Async Error Handling with Event Listeners"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'const agent = DeepAgent.create({ model, instructions: "..." })\n  .on("*", (event) => {\n    // Listen to all events for comprehensive error monitoring\n    if (event.type === "error") {\n      logError(event.data, event.source);\n    }\n  })\n  .build();\n\nasync function logError(error: Error, source: string) {\n  const errorLog = {\n    timestamp: new Date().toISOString(),\n    source,\n    type: error.constructor.name,\n    code: error instanceof GaussFlowError ? error.code : "UNKNOWN",\n    message: error.message,\n    cause: error instanceof GaussFlowError ? error.cause : null,\n    stack: error.stack,\n  };\n  \n  // Send to logging service, write to file, etc.\n  console.error("Error logged:", errorLog);\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"error-recovery-strategies",children:"Error Recovery Strategies"}),"\n",(0,t.jsx)(e.h3,{id:"retry-with-exponential-backoff",children:"Retry with Exponential Backoff"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { DeepAgent, ToolExecutionError } from "@giulio-leone/gaussflow-agent";\n\nasync function runWithRetry(agent: DeepAgent, prompt: string, maxRetries = 3) {\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      return await agent.run(prompt);\n    } catch (error) {\n      if (error instanceof ToolExecutionError && attempt < maxRetries) {\n        const delay = Math.pow(2, attempt - 1) * 1000; // Exponential backoff\n        console.log(`Attempt ${attempt} failed, retrying in ${delay}ms...`);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      } else {\n        throw error; // Final attempt or non-recoverable error\n      }\n    }\n  }\n}\n\n// Usage\ntry {\n  const result = await runWithRetry(agent, "Complex task that might fail");\n  console.log("Success after retry:", result.text);\n} catch (error) {\n  console.error("All retry attempts failed:", error);\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { \n  DeepAgent, \n  McpConnectionError, \n  ToolExecutionError \n} from "@giulio-leone/gaussflow-agent";\n\nasync function runWithFallback(agent: DeepAgent, prompt: string) {\n  try {\n    // Attempt with full functionality\n    return await agent.run(prompt);\n  } catch (error) {\n    if (error instanceof McpConnectionError) {\n      console.warn("MCP unavailable, using local tools only");\n      \n      // Create agent without MCP tools\n      const fallbackAgent = DeepAgent.create({\n        model: agent.config.model,\n        instructions: agent.config.instructions + " (Note: External tools unavailable)"\n      }).withPlanning().build();\n      \n      return await fallbackAgent.run(prompt);\n    } else if (error instanceof ToolExecutionError) {\n      console.warn("Tool execution failed, using simplified approach");\n      \n      // Modify prompt to avoid problematic operations\n      const simplifiedPrompt = `${prompt} (Please use only basic operations)`;\n      return await agent.run(simplifiedPrompt);\n    } else {\n      throw error; // Non-recoverable error\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"circuit-breaker-integration",children:"Circuit Breaker Integration"}),"\n",(0,t.jsx)(e.p,{children:"Combine error handling with resilience patterns:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { \n  DeepAgent, \n  CircuitBreaker, \n  CircuitBreakerError,\n  ToolExecutionError \n} from "@giulio-leone/gaussflow-agent";\n\nconst circuitBreaker = new CircuitBreaker({\n  failureThreshold: 3,\n  resetTimeoutMs: 30000,\n  monitorWindowMs: 60000,\n});\n\nconst agent = DeepAgent.create({ model, instructions: "..." })\n  .withCircuitBreaker(circuitBreaker)\n  .on("error", (event) => {\n    const error = event.data;\n    \n    if (error instanceof CircuitBreakerError) {\n      console.log("Circuit breaker is open, service temporarily unavailable");\n      // Implement fallback behavior or queue request for later\n    } else if (error instanceof ToolExecutionError) {\n      console.log("Tool error recorded by circuit breaker");\n    }\n  })\n  .build();\n\nasync function resilientRun(prompt: string) {\n  try {\n    return await agent.run(prompt);\n  } catch (error) {\n    if (error instanceof CircuitBreakerError) {\n      // Circuit is open, try again later\n      console.log("Service unavailable, scheduling retry...");\n      setTimeout(() => resilientRun(prompt), 30000);\n      throw new Error("Service temporarily unavailable, retry scheduled");\n    }\n    throw error;\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"plugin-error-handling",children:"Plugin Error Handling"}),"\n",(0,t.jsx)(e.p,{children:"Plugins can implement error handling in their hooks:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { DeepAgentPlugin, PluginError } from "@giulio-leone/gaussflow-agent";\n\nconst errorHandlingPlugin: DeepAgentPlugin = {\n  name: "error-handler",\n  hooks: {\n    onError: async (ctx, { error, step, tool }) => {\n      console.error("Plugin error handler:", error);\n      \n      if (error instanceof ToolExecutionError && tool?.name === "critical_tool") {\n        // Attempt recovery for critical tool failures\n        try {\n          await recoverFromCriticalToolFailure(tool, error);\n          return { recovered: true };\n        } catch (recoveryError) {\n          throw new PluginError("Failed to recover from critical tool error", recoveryError);\n        }\n      }\n      \n      // Return undefined to continue normal error handling\n      return undefined;\n    },\n    \n    afterTool: async (ctx, params) => {\n      // Validate tool results and throw early if invalid\n      if (params.tool.name === "data_processor" && !isValidData(params.result)) {\n        throw new ToolExecutionError("Tool returned invalid data format");\n      }\n    },\n  },\n};\n\nasync function recoverFromCriticalToolFailure(tool: any, error: ToolExecutionError) {\n  // Implement recovery logic\n  console.log("Attempting recovery for tool:", tool.name);\n  // ...recovery implementation\n}\n\nfunction isValidData(data: any): boolean {\n  // Implement data validation\n  return data && typeof data === \'object\' && data.isValid === true;\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"error-aggregation-and-reporting",children:"Error Aggregation and Reporting"}),"\n",(0,t.jsx)(e.p,{children:"For production applications, implement comprehensive error tracking:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { DeepAgent, GaussFlowError } from "@giulio-leone/gaussflow-agent";\n\ninterface ErrorReport {\n  id: string;\n  timestamp: string;\n  errorType: string;\n  errorCode?: string;\n  message: string;\n  source: string;\n  sessionId?: string;\n  userId?: string;\n  context?: Record<string, unknown>;\n}\n\nclass ErrorTracker {\n  private errors: ErrorReport[] = [];\n  \n  trackError(error: Error, source: string, context?: Record<string, unknown>) {\n    const report: ErrorReport = {\n      id: crypto.randomUUID(),\n      timestamp: new Date().toISOString(),\n      errorType: error.constructor.name,\n      errorCode: error instanceof GaussFlowError ? error.code : undefined,\n      message: error.message,\n      source,\n      context,\n    };\n    \n    this.errors.push(report);\n    \n    // Send to external error tracking service\n    this.reportToService(report);\n    \n    // Log locally\n    console.error("Error tracked:", report);\n  }\n  \n  private async reportToService(report: ErrorReport) {\n    try {\n      // Example: Send to error tracking service\n      await fetch("/api/errors", {\n        method: "POST",\n        headers: { "Content-Type": "application/json" },\n        body: JSON.stringify(report),\n      });\n    } catch (err) {\n      console.error("Failed to report error to service:", err);\n    }\n  }\n  \n  getErrorStats() {\n    return {\n      total: this.errors.length,\n      byType: this.errors.reduce((acc, err) => {\n        acc[err.errorType] = (acc[err.errorType] || 0) + 1;\n        return acc;\n      }, {} as Record<string, number>),\n      recent: this.errors.slice(-10),\n    };\n  }\n}\n\nconst errorTracker = new ErrorTracker();\n\nconst agent = DeepAgent.create({ model, instructions: "..." })\n  .on("error", (event) => {\n    errorTracker.trackError(event.data, event.source, {\n      sessionId: agent.config.id,\n      step: event.metadata?.step,\n      tool: event.metadata?.tool,\n    });\n  })\n  .build();\n'})}),"\n",(0,t.jsx)(e.h2,{id:"testing-error-scenarios",children:"Testing Error Scenarios"}),"\n",(0,t.jsx)(e.p,{children:"Test error handling with mock failures:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'import { \n  DeepAgent, \n  ToolExecutionError, \n  McpConnectionError \n} from "@giulio-leone/gaussflow-agent";\n\n// Mock filesystem that fails on specific paths\nclass FailingFilesystem {\n  async read(path: string): Promise<string> {\n    if (path.includes("fail")) {\n      throw new ToolExecutionError(`Failed to read ${path}`, new Error("Simulated failure"));\n    }\n    return "file content";\n  }\n  \n  async write(path: string, content: string): Promise<void> {\n    if (path.includes("readonly")) {\n      throw new ToolExecutionError(`Cannot write to ${path}`, new Error("Read-only file"));\n    }\n  }\n}\n\n// Test error handling\ndescribe("Agent Error Handling", () => {\n  test("handles tool execution errors gracefully", async () => {\n    const agent = DeepAgent.create({ model, instructions: "..." })\n      .withFilesystem(new FailingFilesystem())\n      .build();\n    \n    const errors: Error[] = [];\n    agent.on("error", (event) => errors.push(event.data));\n    \n    try {\n      await agent.run("Read the file at /path/to/fail.txt");\n    } catch (error) {\n      expect(error).toBeInstanceOf(ToolExecutionError);\n      expect(errors).toHaveLength(1);\n      expect(errors[0]).toBeInstanceOf(ToolExecutionError);\n    }\n  });\n});\n'})}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(e.h3,{id:"error-handling-guidelines",children:"Error Handling Guidelines"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Use specific error types"}),": Catch specific error classes rather than generic ",(0,t.jsx)(e.code,{children:"Error"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Preserve error context"}),": Always include the original error as ",(0,t.jsx)(e.code,{children:"cause"})," when wrapping"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Log structured data"}),": Include relevant context (session ID, tool name, parameters)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Implement graceful degradation"}),": Provide fallback functionality when possible"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Monitor error patterns"}),": Track error frequencies to identify systemic issues"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"error-recovery-strategies-1",children:"Error Recovery Strategies"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Immediate retry"}),": For transient network or resource issues"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Exponential backoff"}),": For rate-limited or overloaded services"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Circuit breaking"}),": For services with extended outages"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Graceful degradation"}),": Fall back to limited functionality"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Human escalation"}),": Route complex errors to human operators"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"production-monitoring",children:"Production Monitoring"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Error rate monitoring"}),": Track errors per minute/hour"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Error type distribution"}),": Monitor which error types are most common"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Recovery success rates"}),": Track how often recovery strategies succeed"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"User impact assessment"}),": Measure how errors affect user experience"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:'// Example production error monitoring setup\nconst agent = DeepAgent.create({ model, instructions: "..." })\n  .on("error", (event) => {\n    // Increment error counter metric\n    metrics.increment("agent.errors", {\n      type: event.data.constructor.name,\n      code: event.data instanceof GaussFlowError ? event.data.code : "unknown",\n    });\n    \n    // Log to structured logging system\n    logger.error("Agent error occurred", {\n      error: event.data,\n      source: event.source,\n      sessionId: agent.config.id,\n      timestamp: event.timestamp,\n    });\n    \n    // Alert on critical errors\n    if (event.data instanceof McpConnectionError) {\n      alerts.send("MCP connection failure detected");\n    }\n  })\n  .build();\n'})})]})}function u(r={}){const{wrapper:e}={...(0,i.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},8453(r,e,n){n.d(e,{R:()=>s,x:()=>a});var o=n(6540);const t={},i=o.createContext(t);function s(r){const e=o.useContext(i);return o.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function a(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:s(r.components),o.createElement(i.Provider,{value:e},r.children)}}}]);